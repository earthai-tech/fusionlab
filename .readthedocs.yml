# .readthedocs.yml  -- Read the Docs build configuration ------------------
version: 2

build:
  os: ubuntu-22.04
  tools:
    python: "3.10"

  # Optional: run extra commands *before* the documentation build.
  # Uncomment if you want to regenerate API .rst files every build.
  # jobs:
  #   pre_build:
  #     - >
  #       sphinx-apidoc -o docs/source/api/ -e -M -f fusionlab \
  #                     fusionlab/tests/* fusionlab/data/* ;
  #       echo "API stubs refreshed."

python:
  install:
    # 1) Install the *package itself* in editable mode so autosummary
    #    can import FusionLab modules while generating docs.
    - method: pip
      path: .
     #  editable: true

    # 2) Then install the doc-specific requirements (Furo, myst-parser, 
)
    - requirements: docs/requirements.txt

sphinx:
  configuration: docs/source/conf.py
  fail_on_warning: false   # flip to true to make warnings fatal

# formats:
#   - pdf
#   - epub
